(function(e){function t(t){for(var r,a,c=t[0],u=t[1],s=t[2],l=0,d=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},o={app:0},i=[];function c(e){return u.p+"static/js/"+({}[e]||e)+"."+{"chunk-2d0d05fb":"f74f8403","chunk-2d22996d":"60f749cb","chunk-3754f09c":"79ff8687","chunk-4f5ad418":"7511069e","chunk-6ec445c7":"aa369e4d","chunk-7ae552d6":"e328f8e2","chunk-7c3a2b8c":"9f62f70b","chunk-7ea70636":"d8171a0d"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-3754f09c":1,"chunk-4f5ad418":1,"chunk-6ec445c7":1,"chunk-7ae552d6":1,"chunk-7c3a2b8c":1,"chunk-7ea70636":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="static/css/"+({}[e]||e)+"."+{"chunk-2d0d05fb":"31d6cfe0","chunk-2d22996d":"31d6cfe0","chunk-3754f09c":"6fca134e","chunk-4f5ad418":"79bfc108","chunk-6ec445c7":"01a55e5a","chunk-7ae552d6":"c3c19a3e","chunk-7c3a2b8c":"2e7ecff1","chunk-7ea70636":"4d2fc8b2"}[e]+".css",o=u.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var s=i[c],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){s=d[c],l=s.getAttribute("data-href");if(l===r||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],f.parentNode.removeChild(f),n(i)},f.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=c(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;i.push([0,"chunk-elementUI","chunk-libs"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1600:function(e,t,n){"use strict";n("e6ab")},"1b23":function(e,t,n){"use strict";n("fb86")},2395:function(e,t,n){},"26a3":function(e,t,n){},"26ef":function(e,t,n){"use strict";n("4537")},4390:function(e,t,n){"use strict";n("e42a")},4537:function(e,t,n){},"6d34":function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},"8aa1":function(e,t,n){},"9f13":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return v}));n("d3b7"),n("d81d"),n("ac1f"),n("5319"),n("fb6a");var r=n("bc3a"),a=n.n(r),o="/configs/",i=a.a.get(o+"cards/esci.json").then((function(e){return new Promise((function(t){return t(e.data)}))})),c=a.a.get(o+"cards/friends.json").then((function(e){return new Promise((function(t){return t(e.data)}))})),u=a.a.get("https://git.nju.edu.cn/api/v4/projects/2412/issues").then((function(e){return new Promise((function(t){var n=e.data.map((function(e){return{title:e.title.replace(/\d+$/g,""),url:e.web_url}}));t({title:"LUG Jokes",url:"https://git.nju.edu.cn/nju-lug/lug-joke-collection",links:n.slice(0,5)})}))})),s=[i,c,u],l=n("5530"),d=n("2909"),f=n("b85c"),h=n("1da1"),m=(n("96cf"),n("b0c0"),n("99af"),n("c740"),n("7db0"),n("5a0c")),p=n.n(m),b=n("4208"),g=n.n(b);function v(){return w.apply(this,arguments)}function w(){return w=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,c,u,s,h,m,b;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.a.get(o+"tunasync.json");case 2:return t=e.sent,e.next=5,a.a.get(o+"addition.json");case 5:n=e.sent,r=t.data,i=r.map((function(e){return{name:e.name,status:e.status,path:"/"+e.name,lastUpdate:e.last_update_ts>0?p.a.unix(e.last_update_ts).fromNow():"-",nextUpdate:e.next_schedule_ts>0?p.a.unix(e.next_schedule_ts).fromNow():"-",size:"unknown"==e.size?"-":e.size}})),c=n.data,u=[],s=Object(f["a"])(c),e.prev=11,m=function(){var e=h.value,t=i.findIndex((function(t){return t.name==e.name}));if(-1!=t)return i[t]=Object(l["a"])(Object(l["a"])({},i[t]),e),"continue";var n=i.find((function(t){return e.inherit==t.name}));u.push({name:e.name,status:e.status||(null===n||void 0===n?void 0:n.status)||"unknown",path:e.path,route:e.route,lastUpdate:e.lastUpdate||(null===n||void 0===n?void 0:n.lastUpdate)||"-",nextUpdate:e.nextUpdate||(null===n||void 0===n?void 0:n.nextUpdate)||"-",size:e.size||"-"})},s.s();case 14:if((h=s.n()).done){e.next=20;break}if(b=m(),"continue"!==b){e.next=18;break}return e.abrupt("continue",18);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](11),s.e(e.t0);case 25:return e.prev=25,s.f(),e.finish(25);case 28:return e.abrupt("return",[].concat(Object(d["a"])(i),u));case 29:case"end":return e.stop()}}),e,null,[[11,22,25,28]])}))),w.apply(this,arguments)}p.a.extend(g.a)},b287:function(e,t,n){"use strict";n("6d34")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=(n("0fb7"),n("450d"),n("f529")),o=n.n(a),i=(n("aaa5"),n("a578")),c=n.n(i),u=(n("cbb5"),n("8bbc")),s=n.n(u),l=(n("1951"),n("eedf")),d=n.n(l),f=(n("a7cc"),n("df33")),h=n.n(f),m=(n("b8e0"),n("a4c4")),p=n.n(m),b=(n("ce18"),n("f58e")),g=n.n(b),v=(n("8bd8"),n("4cb2")),w=n.n(v),k=(n("4ca3"),n("443e")),_=n.n(k),x=(n("0c67"),n("299c")),y=n.n(x),j=(n("10cb"),n("f3ad")),M=n.n(j),C=(n("5466"),n("ecdf")),N=n.n(C),U=(n("38a0"),n("ad41")),O=n.n(U),E=(n("f92a"),n("d775")),A=n.n(E),$=(n("960d"),n("defb")),J=n.n($),P=(n("bd49"),n("18ff")),L=n.n(P),T=(n("cb70"),n("b370")),D=n.n(T),S=(n("fd71"),n("a447")),B=n.n(S),H=(n("e3ea"),n("7bc3")),I=n.n(H),W=(n("bdc7"),n("aa2f")),z=n.n(W),Y=(n("279e"),n("7d94")),G=n.n(Y),q=(n("f4f9"),n("c2cc")),F=n.n(q),R=(n("7a0f"),n("0f6c")),K=n.n(R),Q=(n("de31"),n("c69e")),V=n.n(Q),X=(n("a673"),n("7b31")),Z=n.n(X),ee=(n("adec"),n("3d2d")),te=n.n(ee),ne=(n("159b"),[te.a,Z.a,V.a,K.a,F.a,G.a,z.a,I.a,B.a,D.a,L.a,J.a,A.a,O.a,N.a,M.a,y.a,_.a,w.a,g.a,p.a,h.a,d.a,s.a,c.a]),re={install:function(e){ne.forEach((function(t){return e.use(t)})),e.prototype.$message=o.a}},ae=re,oe=(n("e4cb"),n("8aa1"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{attrs:{id:"container"}},[n("el-header",[n("TopNavi")],1),n("el-main",{staticClass:"main-container"},[n("el-row",[n("el-col",{attrs:{span:e.showAside?18:24}},[n("transition",{attrs:{name:"fade"}},[n("router-view")],1)],1),n("el-col",{directives:[{name:"show",rawName:"v-show",value:e.showAside,expression:"showAside"}],attrs:{span:6}},[n("Aside")],1)],1),n("el-backtop")],1),n("el-footer",{attrs:{height:"200"}},[n("el-divider"),n("BottomBar")],1)],1)}),ie=[],ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-menu",{attrs:{"default-active":e.active,mode:"horizontal","active-text-color":"#63065f","menu-trigger":"click",router:""}},[r("el-menu-item",[r("el-link",{staticClass:"logo-container",attrs:{underline:!1,type:"primary",href:"/"}},[r("img",{attrs:{src:n("cf05"),alt:"Logo"}}),r("span",[e._v(e._s(e.isMobile?"NJU Mirror":"Nanjing University Mirror"))])])],1),e.isMobile?r("el-submenu",{attrs:{index:"collapse"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-s-fold"})]),e._l(e.routes,(function(t,n){return r("el-menu-item",{key:n,attrs:{index:t.route}},[e._v(e._s(t.name)+" ")])}))],2):e._l(e.routes,(function(t,n){return r("el-menu-item",{key:n,staticClass:"menu-item",attrs:{index:t.route}},[e._v(" "+e._s(t.name)+" ")])}))],2)},ue=[],se=(n("ac1f"),n("1276"),r["default"].extend({name:"TopNavi",data:function(){return{routes:[{route:"/",name:"Mirrors"},{route:"/download",name:"Download"},{route:"/help",name:"Help"},{route:"/about",name:"About"}]}},computed:{active:function(){return"/"+this.$route.path.split("/")[1]},isMobile:function(){return this.$store.state.isMobile}}})),le=se,de=(n("1b23"),n("dd7b"),n("2877")),fe=Object(de["a"])(le,ce,ue,!1,null,"49c9b1a2",null),he=fe.exports,me=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"footer"},[r("el-row",{attrs:{align:"left"}},[r("el-col",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile,expression:"!isMobile"}],attrs:{span:6}},[r("img",{attrs:{src:n("cf05"),alt:"bottom-logo"}})]),r("el-col",{attrs:{span:e.isMobile?24:18,align:"left"}},[r("span",[e._v("Nanjing University Open Source Mirror")]),r("el-divider"),r("el-col",{attrs:{span:16}},[r("el-row",[e._v(" 本镜像站由 "),r("el-link",{attrs:{href:"https://www.yaoge123.com/"}},[e._v("yaoge123")]),e._v(" 维护 ")],1),r("el-row",[e._v(" 前端界面由 "),r("el-link",{attrs:{href:"https://git.nju.edu.cn/nju-lug"}},[e._v("NJU LUG")]),e._v(" 制作 ")],1),r("el-row",[e._v(" 部分文档参考自 "),r("el-link",{attrs:{href:"https://github.com/tuna/mirror-web"}},[e._v("tuna")]),e._v(" 并同样以GPLv2协议开源 ")],1),r("el-row",[e._v(" @人工微结构科学与技术协同创新中心 ")])],1),r("el-col",{attrs:{span:8,align:"right"}},[r("el-row",[r("el-dropdown",{attrs:{trigger:"click"},on:{command:e.redirect}},[r("span",{staticClass:"el-dropdown-link"},[r("i",{staticClass:"el-icon-message"}),e._v(" 反馈问题 ")]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"https://github.com/nju-lug/NJU-Mirror-Issue/issues"}},[e._v(" 镜像Bug ")]),r("el-dropdown-item",{attrs:{icon:"el-icon-edit-outline",command:"https://github.com/nju-lug/NJU-Mirror-Frontend/issues"}},[e._v(" 前端Bug ")]),r("el-dropdown-item",{attrs:{icon:"el-icon-message",command:"mailto:git+nju-lug-nju-mirror-frontend-2901-issue-@yaoge123.cn"}},[e._v(" 邮件反馈 ")])],1)],1)],1),r("el-row",[r("el-link",{attrs:{icon:"el-icon-paperclip",href:"https://git.nju.edu.cn/nju-lug/nju-mirror-frontend"}},[e._v(" 源码仓库 ")])],1),r("el-row",[r("el-link",{attrs:{icon:"el-icon-male",href:"https://git.nju.edu.cn/nju-lug"}},[e._v(" 加入我们 ")])],1)],1)],1)],1),r("el-row",[e._v("苏ICP备10085945-1号 南信备568号")])],1)},pe=[],be=r["default"].extend({name:"BottomBar",computed:{isMobile:function(){return this.$store.state.isMobile}},methods:{redirect:function(e){window.location.href=e}}}),ge=be,ve=(n("4390"),Object(de["a"])(ge,me,pe,!1,null,"35620c1a",null)),we=ve.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"aside"},[n("News"),e._l(e.linkConfig,(function(e,t){return n("AsideLink",{key:t,attrs:{entries:e}})}))],2)},_e=[],xe=n("9f13"),ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card"},[n("el-link",{attrs:{slot:"header",href:e.card.url||"javascript:void(0);"},slot:"header"},[e._v(" "+e._s(e.card.title)+" ")]),e._l(e.card.links,(function(t,r){return n("div",{key:r,staticClass:"text item aside-link"},[n("el-link",{attrs:{icon:t.icon||"el-icon-top-right",type:"info",href:t.url}},[e._v(e._s(t.title))])],1)}))],2)},je=[],Me=(n("d3b7"),n("ddb0"),r["default"].extend({name:"AsideLink",data:function(){return{card:{title:"Loading",links:[]}}},props:{entries:Promise},mounted:function(){var e=this;this.entries.then((function(t){return e.card=t}),(function(t){e.$message.warning(t.message),e.card={title:"Error",links:[]}}))}})),Ce=Me,Ne=(n("1600"),Object(de["a"])(Ce,ye,je,!1,null,"75548674",null)),Ue=Ne.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",{staticClass:"box-card news-container"},[n("span",{attrs:{slot:"header"},slot:"header"},[e._v(" News ")]),e._l(e.contents,(function(t,r){return n("el-link",{key:r,on:{click:function(n){return e.handleClick(t)}}},[e._v(" "+e._s(e.getDate(t.time))+" - "+e._s(t.name)+" ")])})),n("el-dialog",{attrs:{title:e.selected.name,visible:e.show},on:{"update:visible":function(t){e.show=t}}},[n("div",{domProps:{innerHTML:e._s(e.selected.content)}})])],2)},Ee=[],Ae=(n("fb6a"),n("bc3a")),$e=n.n(Ae),Je=n("5a0c"),Pe=n.n(Je),Le=n("0e54"),Te=n.n(Le),De=r["default"].extend({name:"MirrorDialog",data:function(){return{selected:{name:"",time:0,content:""},contents:[],show:!1}},methods:{handleClick:function(e){this.selected=e,this.show=!0},getDate:function(e){return Pe.a.unix(e).format("YYYY.M.D")}},watch:{selected:function(e){var t=this;$e.a.get("/configs/news/".concat(e.content)).then((function(t){return e.content=Te()(t.data)}),(function(n){t.$message.warning("Unable to fetch news: ".concat(n.message)),e.content="<h2>Error loading news</h2>"}))}},mounted:function(){var e=this;$e.a.get("/configs/news/index.json").then((function(t){return e.contents=t.data.slice(0,5)}),(function(t){return e.$message.warning("Couldn't fetch news: ".concat(t.message))}))}}),Se=De,Be=(n("b287"),Object(de["a"])(Se,Oe,Ee,!1,null,"4083104f",null)),He=Be.exports,Ie=r["default"].extend({name:"Aside",data:function(){return{linkConfig:xe["b"]}},components:{AsideLink:Ue,News:He}}),We=Ie,ze=(n("26ef"),Object(de["a"])(We,ke,_e,!1,null,null,null)),Ye=ze.exports,Ge=r["default"].extend({name:"App",data:function(){return{screenWidth:document.body.clientWidth}},components:{Aside:Ye,BottomBar:we,TopNavi:he},computed:{showAside:function(){var e=this.$route.path;return("/"==e||"/about"==e)&&this.screenWidth>1e3},isMobile:function(){return this.screenWidth<750}},mounted:function(){var e=this;window.onresize=function(){e.screenWidth=document.body.clientWidth},$e.a.get("/configs/documentations/index.json").then((function(t){return e.$store.commit("changeConfig",t.data)}),(function(t){return e.$message.warning("Unable to fetch help: ".concat(t))}))},watch:{isMobile:{immediate:!0,handler:function(e){this.$store.commit("updateWidth",e)}}}}),qe=Ge,Fe=(n("7c55"),Object(de["a"])(qe,oe,ie,!1,null,null,null)),Re=Fe.exports,Ke=(n("3ca3"),n("8c4f"));r["default"].use(Ke["a"]);var Qe=[{path:"/",name:"Mirrors",component:function(){return n.e("chunk-7ea70636").then(n.bind(null,"9ee1"))},meta:{title:"Mirrors · NJU Mirror"}},{path:"/help",name:"Help",component:function(){return n.e("chunk-6ec445c7").then(n.bind(null,"c3ef"))},children:[{path:"index",name:"HelpIndex",component:function(){return n.e("chunk-2d0d05fb").then(n.bind(null,"6869"))},meta:{title:"Help · NJU Mirror"}},{name:"Doc",path:":distro",component:function(){return n.e("chunk-4f5ad418").then(n.bind(null,"70ba"))},meta:{title:"Help · NJU Mirror"}}],meta:{title:"Help · NJU Mirror"},redirect:"/help/index"},{path:"/download",name:"Download",component:function(){return n.e("chunk-3754f09c").then(n.bind(null,"3971"))},children:[{path:"index",name:"DownloadIndex",component:function(){return n.e("chunk-2d0d05fb").then(n.bind(null,"6869"))},meta:{title:"Download · NJU Mirror"}},{name:"Entry",path:":category/:title",component:function(){return n.e("chunk-7c3a2b8c").then(n.bind(null,"9ca2"))},meta:{title:"Download · NJU Mirror"}}],meta:{title:"Download · NJU Mirror"},redirect:"/download/index"},{path:"/about",name:"About",component:function(){return n.e("chunk-7ae552d6").then(n.bind(null,"f820"))},meta:{title:"About · NJU Mirror"}},{path:"*",name:"Error",component:function(){return n.e("chunk-2d22996d").then(n.bind(null,"dda8"))},meta:{title:"Error · NJU Mirror"}}],Ve=new Ke["a"]({mode:"history",base:"/",routes:Qe});Ve.beforeEach((function(e,t,n){var r;document.title=(null===(r=e.meta)||void 0===r?void 0:r.title)||"NJU Mirror",document.body.scrollTop=document.documentElement.scrollTop=0,n()}));var Xe=Ve,Ze=n("0284"),et=n.n(Ze),tt=(n("4e82"),n("b0c0"),n("2f62"));r["default"].use(tt["a"]);var nt=new tt["a"].Store({state:{isMobile:!1,docConfig:[],isoContents:[]},mutations:{updateWidth:function(e,t){e.isMobile=t},changeConfig:function(e,t){e.docConfig=t,e.docConfig.sort((function(e,t){return e.name.localeCompare(t.name)}))},updateISO:function(e,t){e.isoContents=t,e.isoContents.sort((function(e,t){return e.distro.localeCompare(t.distro)}))}}});r["default"].use(et.a,{id:"UA-349246-14",router:Xe}),r["default"].use(ae),r["default"].config.productionTip=!1,new r["default"]({router:Xe,store:nt,render:function(e){return e(Re)}}).$mount("#app")},cf05:function(e,t,n){e.exports=n.p+"static/img/logo.467c467f.png"},dd7b:function(e,t,n){"use strict";n("26a3")},e42a:function(e,t,n){},e6ab:function(e,t,n){},fb86:function(e,t,n){}});
//# sourceMappingURL=app.6b0ced17.js.map